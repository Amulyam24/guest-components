name: Test Arch Mapping with uname -m

on:
  pull_request:
    branches:
      - main

jobs:
  test-arch-tag:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Print Arch Tag
        run: |
          # Get the architecture from the runner
          arch=$(uname -m)

          # Map x86_64 -> amd64
          arch_tag="${arch/x86_64/amd64}"

          # Print the results
          echo "uname -m = $arch"
          echo "arch_tag = $arch_tag"

